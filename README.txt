This repository contains code to fully reproduce the simulation results and application illustration in Knowlton, R., Parast, L. (2024) ``Efficient Testing Using Surrogate Information," which is under review. For questions or comments, please contact R. Knowlton at rknowlton@utexas.edu.

The code has been written using R version 4.3.3 (platform: x86_64-w64-mingw32/x64, 64-bit) with packages hetsurr_1.0, matrixStats_1.3.0, quantreg_5.97, Rsurrogate_3.2, ggplot2_3.5.1, and etsi_1.0. Note that the ``etsi'' package is available on Github at https://github.com/rebeccaknowlton/etsi (Commit 93e07c7).

Additionally, to reproduce the AIDS examples, you will need to request the data directly from the AIDS Clinical Trial Group. Specifically, you may request the ACTG 320 study and the ACTG 193A study at https://actgnetwork.org/submit-a-proposal.

Once you have the etsi library, you will be able to fully reproduce the results from the paper. To reproduce Table 1 in the paper, run the code in the file etsi_sims_tab1.R. To reproduce Table 2, use the code in etsi_design_sims_tab2.R. The file aids_example_fig2_and_tab3.R will reproduce Figure 2 and Table 3 using the data in the folder aids_data. Note that this data is shared by ACTG only for the purposes of verifying reproducibility, and it should not be posted anywhere. Additionally, the file aids_design_fig3.R will reproduce figure 3. The file etsi_sims_truth_and_assumptions.R calculates the truth and checks necessary assumptions for the simulation settings and is provided for completeness, though it is not required to produce any tables or figures. All reproduced tables and figures are saved in the results folder.
